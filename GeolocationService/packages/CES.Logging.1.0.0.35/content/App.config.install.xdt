<?xml version="1.0" encoding="utf-8" ?>
<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <configSections xdt:Transform="InsertIfMissing">
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" xdt:Transform="InsertIfMissing" xdt:Locator="Match(name)" />
  </configSections>

  <log4net xdt:Transform="InsertIfMissing">
    <appender name="ConsoleAppender" type="log4net.Appender.ConsoleAppender" xdt:Transform="InsertIfMissing" >
      <layout type="log4net.Layout.PatternLayout" xdt:Transform="InsertIfMissing">
        <conversionPattern value="%date [%thread] %-5level %logger [%ndc] - %message%newline" xdt:Transform="InsertIfMissing" />
      </layout>
    </appender>
    <appender name="GelfUdpAppender" type="gelf4net.Appender.GelfUdpAppender, Gelf4net" xdt:Transform="InsertIfMissing">
      <remoteAddress value="127.0.0.1" xdt:Transform="InsertIfMissing"/>
      <remotePort value="12200" xdt:Transform="InsertIfMissing" />
      <layout type="Gelf4net.Layout.GelfLayout, Gelf4net" xdt:Transform="InsertIfMissing">
        <param name="AdditionalFields" value="app:App_Name,service:Service_Name,date:%date,thread:%thread,level:%level" />
        <param name="ConversionPattern" value="%message" />
      </layout>
    </appender>    
    <root xdt:Transform="InsertIfMissing">
      <level value="ALL" xdt:Transform="InsertIfMissing" />
      <appender-ref ref="ConsoleAppender" xdt:Transform="InsertIfMissing" />
      <appender-ref ref="GelfUdpAppender" xdt:Transform="InsertIfMissing" />
    </root>
  </log4net>
</configuration>